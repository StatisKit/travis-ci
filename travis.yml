language: python

os:
  - linux
  - osx

sudo: required

env:
  - INSTALL=user_install
  - INSTALL=developer_install
  
install:
  - pip install pyinstaller
  
script:
  - git clone https://gist.github.com/8a8b5ea835ac3cf5c46f8e02b31f6f34.git install-scripts
  - cd install-scripts
  - pyinstaller $INSTALL.py --onefile
  - cd dist
  - if [[ "$INSTALL" = "developer_install" ]]; then
      source $INSTALL --configure-only=yes;
    else
      source $INSTALL;
    fi
  
cache:
  directories:
  - $HOME/install-scripts/dist
